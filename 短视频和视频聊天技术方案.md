## 短视频

### 一、当时业务场景
用户可以发送短视频和文字到社区（和微信的朋友圈类似），用户可以评论、点赞

### 二、技术方案
采用阿里云的视频点播(VOD)

### 三、视频点播(VOD)

#### 1.优点
VOD提供服务端，移动端，web端三端的SDK。方便开发者接入.  
移动端sdk支持多分辨率及UI自定义,阿里云控制台支持内容审核和管理.  
因为是阿里云系列产品，可以无缝接入阿里云的CDN做加速优化，使短视频有好的体验不卡顿.  
费用上可以包月和按量付费，流量包、存储包、转码包都可以根据业务单一购买，不浪费资源.  

#### 2.缺点
移动端SDK短视频的视频编辑比较单一，不支持美颜，滤镜，特效，动态贴纸等。在功能拓展上有所受限.   
后来我们采用了香芯科技美颜SDK进行视频的美颜和滤镜.

### 四、遇到的坑
无

## 视频聊天

### 一、当时业务场景
用户直接可以IM文字聊天，后来业务拓展，用户和用户之间科技视频聊天

### 二、技术方案
采用融云SDK

### 三、融云SDK
#### 1.优点
融云SDK支持IM和推送（ios,android平台），同时也支持视频聊天。用一个sdk就可以解决当时业务上多个功能.  
在IM的领域内，融云SDK和腾讯IM SDK,环信IM SDK相比较，它的性价比最高（费用、同时在线人数上限、api调用此时），故采用.   

#### 四、遇到的坑
融云SDK在视频聊天上，时不时会出现视频卡顿，视频模糊问题，安卓手机还会出现不兼容问题，导致业务上被影响

#### 五、技术方案改进
通过调查，我们在视频聊天领域更换了sdk,采用了声网SDK(https://www.agora.io/cn).  
声网是一家专门ToB的视频和语音SDK提供商，创始人来自前YY（视频直播平台）的CTO，在音视频领域有非常强的技术沉淀，声网在业务上也遍及国内和海外.   
改进后的视频聊天，不再出现视频卡顿、模糊、不兼容多种机型等问题。业务上得到稳定.   